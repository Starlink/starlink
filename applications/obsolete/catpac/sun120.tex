\documentstyle[11pt]{article}
\pagestyle{myheadings}

%------------------------------------------------------------------------------
\newcommand{\stardoccategory}  {Starlink User Note}
\newcommand{\stardocinitials}  {SUN}
\newcommand{\stardocnumber}    {120.3}
\newcommand{\stardocauthors}   {A R Wood}
\newcommand{\stardocdate}      {11 October 1994}
\newcommand{\stardoctitle}     {CATPAC --- Catalogue Applications Package on UNIX}
%------------------------------------------------------------------------------

\newcommand{\stardocname}{\stardocinitials /\stardocnumber}
\markright{\stardocname}
\setlength{\textwidth}{160mm}
\setlength{\textheight}{230mm}
\setlength{\topmargin}{-2mm}
\setlength{\oddsidemargin}{0mm}
\setlength{\evensidemargin}{0mm}
\setlength{\parindent}{0mm}
\setlength{\parskip}{\medskipamount}
\setlength{\unitlength}{1mm}

\begin{document}
\thispagestyle{empty}
DRAL / {\sc Rutherford Appleton Laboratory} \hfill {\bf \stardocname}\\
{\large Particle Physics \& Astronomy Research Council}\\
{\large Starlink Project\\}
{\large \stardoccategory\ \stardocnumber}
\begin{flushright}
\stardocauthors\\
\stardocdate
\end{flushright}
\vspace{-4mm}
\rule{\textwidth}{0.5mm}
\vspace{5mm}
\begin{center}
{\Large\bf \stardoctitle}
\end{center}
\vspace{5mm}

\setlength{\parskip}{0mm}
\tableofcontents
\setlength{\parskip}{\medskipamount}
\markright{\stardocname}

\newpage
\section {Introduction}

CATPAC is the STARLINK Catalogue and Table Package. This document
describes the CATPAC applications available on UNIX. These  include
applications for inputing, processing and reporting tabular data
including astronomical catalogues. The applications all fall into  the
following categories:

\begin{itemize}
\item Reporting catalogues.
\item Creating catalogues.
\item Deleting catalogues.
\item Manipulating information about catalogues.
\item Manipulating data in catalogues.
\end{itemize}

Appendix~\ref{ap:summary} lists, in alphabetical order, the commands and
their functions.

\section {Catalogue terms and ideas}

\subsection {Parameter and field information}

A catalogue has information that applies to the  whole catalogue. For an
astronomical catalogue this may well include items such as:

\begin{description}
\item[\mbox{}]\mbox{}
\begin{description}
\item [CATTITLE] --- Title of the catalogue.
\item [IDENTIFIER] --- Name by which the catalogue is known to the system.
\item [NUMENTS] --- Number of entries in the catalogue.
\item [AUTHOR] --- Authors name.
\item [WAVLENGTH] --- Catalogue wavelength keyword for librarian.
\item [OBJECT] --- Type of objects in catalogue STAR, GALAXY {\em etc}.
\item [EPOCH] --- Date of position measurements.
\item [EQUINOX] --- Equinox of coordinates.
\item [NOTES] --- Notes on the catalogue.
\end{description}
\end{description}

Traditionally these information items have been known as {\bf PARAMETERS} of
the catalogue. These parameters should not be confused with the {\small ADAM}
parameter system.

Each parameter requires:

\begin{description}
\item[\mbox{}]\mbox{}
\begin{description}
\item [NAME] --- Name identifying this parameter.
\item [FORMAT] --- The format/type of the value.
\item [VALUE] --- Value of the parameter.
\item [COMMENT] --- Comment.
\end{description}
\end{description}

For example:
\begin{small}
\begin{verbatim}
      NAME     FORMAT       VALUE                      COMMENT
      ----     ------       -----                      -------

     AUTHOR      A16      J. Bloggs          J. Bloggs, F. Smith and R. Brown
     NUMENTS      I4          3432           Number of entries in the catalogue
\end{verbatim}
\end{small}

A catalogue is organised in rows and columns. In an astronomical  catalogue
columns are called
{\bf FIELDS} and rows are called {\bf ENTRIES}. Each field has information
associated with it.

Each field requires :

\begin{description}
\item[\mbox{}]\mbox{}
\begin{description}
\item [NAME] --- Field Name.

The name identifies a particular field (column) in the
catalogue and therefore must be unique in this catalogue.

\item [FORMAT] --- Format of the field.

The format indicates how this field should be displayed. The Field Formats
section of this document give further details of the supported formats.

\item [UNITS] --- Units of the field.

\item [COMMENT] --- Comment on the field.

\end{description}
\end{description}

For example:

\begin{small}
\begin{verbatim}
      NAME     FORMAT     UNITS      COMMENT
      ----     ------     -----      -------

     FLUX       F8.4     JANSKY      Flux Density
     RADIUS     I4       ARCSEC      Radius Vector
\end{verbatim}
\end{small}

\subsection {Field Formats}

The field format determines how the values of that field are to be displayed.
The report application CATREPORT supports all FORTRAN formats plus all the
common sexagesimal formats (SDD MM SS, SDD:MM:SS, DEGREES, HH MM SS
{\em etc.})

\subsection {Restrictions in this implementation of CATPAC}

Personal catalogues are created, manipulated or deleted in your current
directory. Users are strongly advised to create a single directory in which to
carry out their catalogue handling work.


\section{Running Applications}

To start you must issue the usual {\tt catpac} command, but note that
it must be in lowercase.

\begin{verbatim}
     catpac
\end{verbatim}

All commands must be given in full and in lowercase.  {\sc ICL} is
not available and hence there is no {\sc ADAM} monolith version of
{\sc CATPAC}.  One consequence is that {\sc ADAM} parameters cannot
be passed between applications.  Since commands are invoked from the
shell some command syntax is interpreted as shell metacharacters.  These
include parenthesis, bracket, quote, double quote and backslash.  A
backslash is needed before each metacharacter for these characters to be
taken literally.  Here is an example

\begin{quote}
{\tt catreport TEST allfields=n fieldnames=$\backslash$[RA,DEC$\backslash$]}
\end{quote}

When responding to prompts neither the {\tt <TAB>} function for editing
the default nor command-line recall is available.

Parameter values are case insensitive except for graphics devices and
filenames.  No file extension is assumed for ASCII files. (On VMS {\tt
".DAT"} is assumed if no extension is given.)

On UNIX, {\sc CATPAC} is a monolith, but not in the traditional
{\sc ADAM} sense. All the applications are soft links to this single
application, which itself finds the command you made, not {\sc ICL}.  This
scheme was chosen to make vast savings in disc space, particularly on
DECstations. One side effect is that given sufficient real memory the
monolith appears to give a quicker load time (after the first
invocation) than when there are individual applications. However, on a
machine with a small memory ($\sim$8Mb) the monolith will not be
retained in memory as you process your data, and so there can be some
pregnant pauses, just like from {\sc DCL}.

\section{Demonstration}
A demonstration script has been provided with this CATPAC release. You should
run the demonstration from an empty directory. The demonstration is self
explainatory and is invoked by typing.

\begin{verbatim}
     catpacdemo
\end{verbatim}

\section{Help}

There is no {\bf help} command.  You must use {\bf cathelp} to
obtain {\sc CATPAC} help.  For example, you should enter

\begin{verbatim}
     cathelp
\end{verbatim}

to enter the CATPAC help facility and return to start the facility.


So what applications are now available?  Appendix~\ref{ap:summary} lists
in alphabetical order the commands and their functions, and
Appendix~\ref{ap:classified} is a classified list of the same commands.


\section{Parameters}
\label{se:param}

{\small CATPAC} is a command-driven package.  Commands have {\em parameters\/}
by which you can qualify their behaviour. Parameters are obtained in response
to prompts or supplied on a command line.

For convenience, the main aspects of the {\small ADAM} parameter system
as seen by a user of {\small CATPAC} are described below.  Though note
that most of what follows is applicable to any {\small ADAM}
application.

\subsection{Defaults}
\label{se:defaults}

Command-line values are used mostly for those parameters that are normally
defaulted by the application.   Defaulted parameters enable applications to
have many options, say for controlling the appearance of some graphical output,
without making routine operations tedious because of a large number of prompts.
The values of normally defaulted parameters can be found by obtaining online
help on a specific parameter.  They are enclosed in square brackets at the end
of the parameter description.

\begin{verbatim}
      cathelp
      catreport
      parameters
\end{verbatim}

gives details of all parameters in application CATREPORT. Applications show the
defaults at the end of each  parameter description enclosed in square
brackets---the same as in Appendix~\ref{ap:full}. If you want to override one
of these defaults, then you must specify the parameter's value on the command
line.

When you are prompted you will usually be given a suggested default value in
{\tt / /} delimiters.  You can choose to accept the default by pressing
carriage return.  For example, 5 is the suggested value below:

\begin{verbatim}
      FREQUENCY - Sample frequency N.  /5/ >
\end{verbatim}
Alternatively, enter a different value
\begin{verbatim}
      FREQUENCY - Sample frequency N. /5/ > 10
\end{verbatim}
to override the default.
Some defaults begin with an {\tt @}.
\begin{verbatim}
      DATAFILE - Name of file containing the data /@TESTDATA.DAT/ >
\end{verbatim}

These are associated with files (ASCII, HDS) and devices (graphics,
tape). If you want to override the default given, you do not have to
prefix your value with an {\tt @}, {\it e.g.}

\begin{verbatim}
      DATAFILE - Name of file containing the data /@TESTDATA.DAT/ > NEWDATA.DAT
\end{verbatim}

The default value can be edited to save typing by first pressing the {\tt
<TAB>} key. The editor behaves like the {\small DCL} command-line editor.
Defaults may change as data are processed by {\small CATPAC}. Often the current
(last) value of the parameter will be substituted, or a dynamic value is
suggested depending on the values of other parameters.  Current values of
CATPAC parameters are stored in the HDS file {\tt ADAM\_USER:CATPAC.SDF}, and
so they persist between {\small CATPAC} sessions. This file should not be
deleted unless {\small CATPAC} parameters are to be completely reset.

\subsection{Globals}

{\small CATPAC} stores a number of global parameters that are used as defaults
to reduce typing in response to prompts. Global means that they are shared
between applications.  The most common is the last INPUT catalogue. If you just
press {\tt <CR>} to the prompt, the global value is unchanged. Only when you
modify the parameter and the  application completes without error is the global
value updated, and so becomes the suggested default value for the next prompt
for an INPUT catalogue name.

All global parameters are stored in HDS file {\tt ADAM\_USER:GLOBAL.SDF}.
The full list is:

\begin{description}
\item[\mbox{}]\mbox{}
\begin{description}
\item [GLOBAL.INPUT] --- Current input catalogue
\end{description}
\end{description}

{\small CATPAC} uses the last INPUT catalogue as the
suggested default value for the next prompt for an INPUT.

The values of of all global parameters may be inspected via the
{\tt globals} command:
\begin{verbatim}
      globals
      The current INPUT catalogue is       : TEST
\end{verbatim}

\subsection{Strings}
\label{se:parstring}
Notice that the apostrophes around strings given in response to prompts
for a character parameter can be omitted. However, on the command
line quotes or double quotes are needed if the string contains spaces,
otherwise the second and subsequent words could be treated as
separate positional parameters.

Responses to prompts are case insensitive.

\subsection{Arrays}
If a parameter requires an array of values, the series
should be in brackets separated by commas or spaces.  For example:
\begin{verbatim}
      FLDNAMES - List of field names > [STARNAME,RA,DEC]
\end{verbatim}
would input three values: STARNAME, RA and DEC into the character parameter
FLDNAMES.  If the application is expecting an exact number of values
you will be reprompted, either for all the values if you give too many,
or the remaining values if you supply too few.  There is one exception
where you can omit the brackets---a fairly common one---and that is in
response to a prompt for a one-dimensional array as above.

\subsection{Abort and Null}

Responding to a prompt with a null value {\tt !} will not necessarily
cause the application to abort, but it can force a suitable default to
be used, where this is the most-sensible action. A further use in CATPAC
is to terminate the interactive loop in the ASCIITO application.

Responding to a prompt with an abort request {\tt !!} will abort the
application.  This process includes the various tidying operations
such as the unmapping and closing of files.  Any other method of
stopping an application prematurely can leave files mapped or corrupted.

\subsection{Help}
\label{se:parhelp}

To get help about a parameter enter {\tt ?}.  Usually, this will give
access to the help-library
information for that parameter, for example:
\begin{verbatim}
      DATAFILE - Name of the ASCII data file.

      ASCIITO

        Parameters

          DATAFILE = _CHAR (Read)
             Name of the file containing the tabular ascii data.

      DATAFILE - Name of the ASCII data file.
\end{verbatim}

and then immediately reprompt you for the parameter.  There are occasions when
information about the parameter is insufficient; you may require to examine the
examples or the description of related parameters.  This can be achieved via
entering {\tt ??} to the prompt. You can then delve anywhere in the help
information.  When you exit the help system you're reprompted for the
parameter.


\subsection{Specifying Parameter Values on Command Lines}
\label{se:cmdlindef}
Parameters may be assigned values on the command line. This is useful
for running {\small CATPAC} in batch mode and in procedures, and for
specifying the values of parameters that would otherwise be defaulted. A
command-line parameter will prevent prompting for that parameter unless
there is an error with the given value, say giving an alphabetic
character string for a floating-point value.

There are two ways in which parameter values may be given on the
command line: by keyword and by position. The two forms may be
mixed with care. The parser looks for positional parameters then
keywords, so you can have some positional values followed by keyword
values.  See some of the examples presented in Appendix~\ref{ap:full}.

Keywords may appear in any order.
Here is an example of command-line defaults using keywords:
\begin{verbatim}
       catreport TEST ALLFLDS=F FLDNAMES=[RA,DEC]
\end{verbatim}

To obtain a false value for a logical parameter
you add a {\tt NO} prefix to keyword, for example:
\begin{verbatim}
       catreport NOALLFLDS
\end{verbatim}
would be equivalent to {\tt ALLFLDS=F}.

To obtain a true value for a logical parameter use just the keyword,
for example:
\begin{verbatim}
       catreport ALLFLDS
\end{verbatim}
would be equivalent to {\tt ALLFLDS=T}.

Alternatively, you can specify command-line values by position:
\begin{verbatim}
      $ sample TEST SAMPTEST 5
\end{verbatim}
The application samples the catalogue {\tt TEST} at a frequency of 5 creating
a new catalogue {\tt SAMPTEST}. Note
trailing parameters may missed but
intermediate ones may not.  Some applications have many parameters and
it would be tedious not only to enter all the intermediate values
between the ones you want to define, but also to remember them all. The
position of a parameter can be found in the {\tt Usage} heading
in Appendix~\ref{ap:full} or the help for the application.

Another consideration is that some parameters do not have defined positions
because they are normally defaulted. Thus the keyword technique is
recommended for most parameters.

Sometimes specifying a parameter on the command line induces different
behaviour, usually to inhibit a loop for procedures, or to eliminate
unnecessary processing.
For instance:

\begin{verbatim}
      $ sample TEST SAMPTEST 5 REJECT=T OUTREJECT=TESTREJECTS
\end{verbatim}

will cause a second catalogue to be created {\tt TESTREJECTS} containing
those entries rejected from the sample.

\subsection{Special Keywords: ACCEPT, PROMPT, RESET}
\label{se:iclkey}

Another way in which prompts and default values can be controlled is by use of
the keywords ACCEPT, PROMPT and RESET.

The RESET keyword causes the default value of all parameters (apart from those
already specified before it on the command line) to be set to the original
values specified by the application or its interface file.  In other words
global and current values are ignored.

The PROMPT keyword forces a prompt to appear for every application parameter.
This can be useful if you cannot remember the name of a defaulted parameter or
there would be too much to type on the command line.  However, it may prove
tedious for certain {\small KAPPA} applications that have tens of parameters,
most of which you normally never see.  You can abort if it becomes too boring.

The ACCEPT keyword forces the parameter system to accept the {\em suggested}
default values for every application parameter.  In other words, those
parameters which would normally be prompted with a value between `/ /'
delimiters take the value between those delimiters, {\it e.g.}  INPUT we saw in
Section~\ref{se:defaults} would take the value {\tt TESTDATA.DAT}.  Parameters
that are normally defaulted behave as normal.  The ACCEPT keyword needs to be
used with care because not every parameter has a default, and therefore must be
given on the command line for the application to work properly. For example,
CATSEARCH must have a value specified for parameter OUTPUT, the name of the
output catalogue. If we run the application like this:

\begin{verbatim}
       catsearch ACCEPT
\end{verbatim}

it would fail in the sense that it would still have to prompt for a value---it
does not know where to write the output catalogue. However, if we run CATSEARCH
like this:

\begin{verbatim}
       CATSEARCH OUTPUT=STARS
\end{verbatim}

it would generate an output catalogue using default values for all the
parameters except OUTPUT. Another point to be wary of is that some applications
have loops, {\it e.g.}\ ASCIITO, and if you use the ACCEPT keyword
it will only operate the first time the application gets a parameter value.

\newpage
\appendix
\section{An Alphabetical Summary of CATPAC Commands}
\label{ap:summary}

\begin{description}
\item [addparam]:
 Adds a parameter to a catalogue.
\item [asciicat]:
 Create a catalogue from an ascii filei and an information file.
\item [asciito]:
 Create a catalogue from an ascii file.
\item [cathelp]:
 Help about the CATPAC package.
\item [catjoin]:
 Join two catalogues.
\item [catrename]:
 Rename a catalogue.
\item [catreport]:
 Produce a catalogue report.
\item [catsearch]:
 Select entries from a catalogue.
\item [catsort]:
 Sort the entries in a catalogue.
\item [copycat]:
 Make a copy of a catalogue.
\item [delcat]:
 Deletes a catalogue from the system.
\item [delfield]:
 Deletes a field from a catalogue.
\item [delparam]:
 Deletes a parameter from a catalogue.
\item [entries]:
 Find the number of entries in a catalogue.
\item [fieldinfo]:
 Find specific information about a field in the catalogue.
\item [fields]:
 Finds the number and names of fields in a catalogue.
\item [fk425]:
 Create a new catalogue in the FK5 coordinate system. (See SLALIB)
\item [fk45z]:
 Create a new catalogue in the FK5 coordinate system. (See SLALIB)
\item [fk524]:
 Create a new catalogue in the FK4 coordinate system. (See SLALIB)
\item [fk54z]:
 Create a new catalogue in the FK4 coordinate system. (See SLALIB)
\item [globals]:
 Displays the values of the CATPAC global parameters.
\item [paraminfo]:
 Find specific information about a parameter in the catalogue.
\item [params]:
 Finds the number and names of parameters in a catalogue.
\item [properm]:
 Create a new catalogue preforming proper motion corrections (See SLALIB)
\item [sample]:
 Select every Nth entry from a catalogue.
\item [upfield]:
 Update the information associated with a field in a catalogue.
\item [upparam]:
 Update the information associated with a parameter in a catalogue.
\end{description}

\newpage
\section{Classified CATPAC commands}
\label{ap:classified}

{\small CATPAC} applications may be classified in terms of their
functions as follows:

\begin{description}

\item [Reporting Catalogues] ---

\begin{description}

\item [Reporting Catalogues.]:

\begin {description}

\item [catreport]:
 Produce a catalogue report.

\end{description}
\end{description}

\item [Creating Catalogues] ---

\begin{description}

\item [Creating a catalogue from data]:

\begin {description}

\item [asciicat]:
 Create a catalogue from an ASCII file and an information file.

\item [asciito]:
 Create a catalogue from an ASCII file.

\end{description}

\item [Creating a catalogue from another catalogue.] :

\begin{description}

\item [catjoin]:
 Join two catalogues.

\item [catrename]:
 Rename a catalogue.

\item [catsearch]:
 Select entries from a catalogue.

\item [catsort]:
 Sort the entries in a catalogue.

\item [copycat]:
 Make a copy of a catalogue.

\item [fk425]:
 Create a new catalogue in the FK5 coordinate system. (See SLALIB)

\item [fk45z]:
 Create a new catalogue in the FK5 coordinate system. (See SLALIB)

\item [fk524]:
 Create a new catalogue in the FK4 coordinate system. (See SLALIB)

\item [fk54z]:
 Create a new catalogue in the FK4 coordinate system. (See SLALIB)

\item [properm]:
 Create a new catalogue preforming proper motion corrections (See SLALIB)

\item [sample]:
 Select every Nth entry from a catalogue.

\end{description}

\end{description}

\item [Deleting Catalogues] ---

\begin{description}

\item [Deleting catalogues.]:

\begin {description}

\item [delcat]:
 Deletes a catalogue from the system.

\end{description}

\end{description}

\item [Manipulating information about Catalogues] ---

\begin{description}

\item [Examining the information about the catalogue.]:

\begin {description}

\item [entries]:
 Find the number of entries in a catalogue.

\item [fieldinfo]:
 Find specific information about a field in the catalogue.

\item [fields]:
 Finds the number and names of fields in a catalogue.

\item [paraminfo]:
 Find specific information about a parameter in the catalogue.

\item [params]:
 Finds the number and names of parameters in a catalogue.

\end{description}

\item [Changing the information about the catalogue.] :

\begin{description}

\item [addparam]:
 Adds a parameter to a catalogue.

\item [delparam]:
 Deletes a parameter from a catalogue.

\item [upfield]:
 Update the information associated with a field in a catalogue.

\item [upparam]:
 Update the information associated with a parameter in a catalogue.

\end{description}

\end{description}

\item [Manipulating data in a catalogue] ---

\begin{description}

\item[\mbox{}]\mbox{}
\begin{description}

\item [delparam]:
 Deletes a parameter from a catalogue.

\end{description}

\end{description}

\item [Inquiries and Status] ---

\begin{description}

\item[\mbox{}]\mbox{}
\begin{description}

\item [globals]:
 Displays the values of the CATPAC global parameters.

\end{description}

\end{description}

\end{description}

\newpage
\section{Specifications of CATPAC applications}
\label{ap:full}
\subsection{Explanatory Notes}

\begin{description}

\item [Layout]
In this layout the specification of parameters has the following
format.

\begin{verbatim}
     name  =  type (access)
        description
\end{verbatim}

This format also includes a {\em Usage} entry this shows how the
application is invoked from the command line.   It lists the positional
parameters in order followed by any prompted keyword parameters using
a {\mbox ``KEYWORD=?''} syntax.  Defaulted
keyword parameters do not appear.  Positional parameters
that are normally defaulted are indicated by being enclosed in square
brackets.

Some parameters will only be used when another parameter has a certain
value or mode. These are indicated by the name of the mode in
parentheses at the end of the parameter description, but before any
default, {\it e.g.}\ parameter OUTREJECT in SAMPLE is only
relevant when parameter REJECT is {\tt "TRUE"}.

\end {description}

\newcommand {\mantt}{\tt}

{\mantt \%name} means the value of parameter {\it name}.

The description entry has a notation scheme to indicate
normally defaulted parameters, {\it i.e.}\ those for which there will
be no prompt.
For such parameters a matching pair of square brackets ({\mantt []})
terminates the description.  The content between the brackets mean

\begin{description}

\item[{\mantt []}]
Empty brackets means that the default is created dynamically
by the application, and may depend on the values of other parameters.
Therefore, the default cannot be given explicitly.

\item[{\mantt [,]}]
As above, but there are two default values that are created dynamically.

\item[{\mantt [}{\rm default}{\mantt ]}]
Occasionally, a description of the default is given in normal type,
{\it e.g.}\ the size of the plotting region in a graphics application,
where the exact default values depend on the device chosen.

\item[{\mantt [default]}]
If the brackets contain a value in teletype-fount, this is the explicit
default value.

\end{description}

\subsection{Abbreviations}

Abbreviations  only been used where it was considered necessary to reduce
the length of the commands. For example  {\small DELETECATALOGUE} becomes
{\small DELCAT}. The full list of abbreviations used is:

\begin{description}
\item[\mbox{}]\mbox{}
\begin{description}
\item [CAT]: CATALOGUE
\item [DEL]: DELETE
\item [FLD]: FIELD
\item [PARAM]: PARAMETER
\end{description}
\end{description}

%+
%  Name:
%     LAYOUT.TEX

%  Purpose:
%     Define Latex commands for laying out documentation produced by PROLAT.

%  Language:
%     Latex

%  Type of Module:
%     Data file for use by the PROLAT application.

%  Description:
%     This file defines Latex commands which allow routine documentation
%     produced by the SST application PROLAT to be processed by Latex. The
%     contents of this file should be included in the source presented to
%     Latex in front of any output from PROLAT. By default, this is done
%     automatically by PROLAT.

%  Notes:
%     The definitions in this file should be included explicitly in any file
%     which requires them. The \include directive should not be used, as it
%     may not then be possible to process the resulting document with Latex
%     at a later date if changes to this definitions file become necessary.

%  Authors:
%     RFWS: R.F. Warren-Smith (STARLINK)

%  History:
%     10-SEP-1990 (RFWS):
%        Original version.
%     10-SEP-1990 (RFWS):
%        Added the implementation status section.
%     12-SEP-1990 (RFWS):
%        Added support for the usage section and adjusted various spacings.
%     {enter_further_changes_here}

%  Bugs:
%     {note_any_bugs_here}

%-

%  Define length variables.
\newlength{\sstbannerlength}
\newlength{\sstcaptionlength}

%  Define a \tt font of the required size.
\font\ssttt=cmtt10 scaled 1095

%  Define a command to produce a routine header, including its name,
%  a purpose description and the rest of the routine's documentation.
\newcommand{\sstroutine}[3]{
   \goodbreak
   \rule{\textwidth}{0.5mm}
   \vspace{-7ex}
   \newline
   \settowidth{\sstbannerlength}{{\Large {\bf #1}}}
   \setlength{\sstcaptionlength}{\textwidth}
   \addtolength{\sstbannerlength}{0.5em}
   \addtolength{\sstcaptionlength}{-2.0\sstbannerlength}
   \addtolength{\sstcaptionlength}{-4.45pt}
   \parbox[t]{\sstbannerlength}{\flushleft{\Large {\bf #1}}}
   \parbox[t]{\sstcaptionlength}{\center{\Large #2}}
   \parbox[t]{\sstbannerlength}{\flushright{\Large {\bf #1}}}
   \begin{description}
      #3
   \end{description}
}

%  Format the description section.
\newcommand{\sstdescription}[1]{\item[Description:] #1}

%  Format the usage section.
\newcommand{\sstusage}[1]{\item[Usage:] \mbox{} \\[1.3ex] {\ssttt #1}}

%  Format the invocation section.
\newcommand{\sstinvocation}[1]{\item[Invocation:]\hspace{0.4em}{\tt #1}}

%  Format the arguments section.
\newcommand{\sstarguments}[1]{
   \item[Arguments:] \mbox{} \\
   \vspace{-3.5ex}
   \begin{description}
      #1
   \end{description}
}

%  Format the returned value section (for a function).
\newcommand{\sstreturnedvalue}[1]{
   \item[Returned Value:] \mbox{} \\
   \vspace{-3.5ex}
   \begin{description}
      #1
   \end{description}
}

%  Format the parameters section (for an application).
\newcommand{\sstparameters}[1]{
   \item[Parameters:] \mbox{} \\
   \vspace{-3.5ex}
   \begin{description}
      #1
   \end{description}
}

%  Format the examples section.
\newcommand{\sstexamples}[1]{
   \item[Examples:] \mbox{} \\
   \vspace{-3.5ex}
   \begin{description}
      #1
   \end{description}
}

%  Define the format of a subsection in a normal section.
\newcommand{\sstsubsection}[1]{\item[{#1}] \mbox{} \\}

%  Define the format of a subsection in the examples section.
\newcommand{\sstexamplesubsection}[1]{\item[{\ssttt #1}] \mbox{} \\}

%  Format the notes section.
\newcommand{\sstnotes}[1]{\item[Notes:] \mbox{} \\[1.3ex] #1}

%  Provide a general-purpose format for additional (DIY) sections.
\newcommand{\sstdiytopic}[2]{\item[{\hspace{-0.35em}#1\hspace{-0.35em}:}] \mbox{} \\[1.3ex] #2}

%  Format the implementation status section.
\newcommand{\sstimplementationstatus}[1]{
   \item[{Implementation Status:}] \mbox{} \\[1.3ex] #1}

%  Format the bugs section.
\newcommand{\sstbugs}[1]{\item[Bugs:] #1}

%  Format a list of items while in paragraph mode.
\newcommand{\sstitemlist}[1]{
  \mbox{} \\
  \vspace{-3.5ex}
  \begin{itemize}
     #1
  \end{itemize}
}
% ------
% End of LAYOUT.TEX macros
% ------


\newpage

\begin{small}
\sstroutine{
   ADDPARAM
}{
   Add a Parameter to a Catalogue
}{
   \sstdescription{
      Add a new parameter to a catalogue. The new parameter requires a
      name, format, value and comment.
   }
   \sstusage{
      ADDPARAM INPUT NAME FORMAT VALUE COMMENT
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         NAME = \_CHAR (Read)
      }{
         Name of the new parameter.
      }
      \sstsubsection{
         FORMAT = \_CHAR (Read)
      }{
         Format of the new parameter. A FORTRAN format detailing how the
         parameter value should be interpreted.
      }
      \sstsubsection{
         VALUE = \_CHAR (Read)
      }{
         Value to be associated with the new parameter.
      }
      \sstsubsection{
         COMMENT = \_CHAR (Read)
      }{
         Comment to be associated with the new parameter.
      }
   }
   \sstnotes{
      The value of a parameter is always a character string. The format
      determines how the value should be interpreted.
   }
   \sstdiytopic{
      Example
   }{
      ADDPARAM TEST CLASS I2 25 {\tt '}Catalogue Class{\tt '}
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   ASCIICAT
}{
   Create a catalogue from an ASCII filei and an information file.
}{
   \sstdescription{
      Create a new catalogue that contains the data from an ASCII file.
      Like ASCIITO ASCIICAT allows you to put your own data into a catalogue.
      The
      data must be tabular. Before running this application you should
      examine your data and create an information file. The information
      file must contain the name, format, units, comments and start position
      for each field. Appendix~\ref{ap:example} shows part of a typical
      information file.
   }
   \sstusage{
      ASCIICAT INPUT DATAFILEi INFOFILE
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue to be created.
      }
      \sstsubsection{
         DATAFILE = \_CHAR (Read)
      }{
         Name of the file containing the tabular ascii data.
      }
      \sstsubsection{
         INFOFILE = \_CHAR (Read)
      }{
         Name of the file containing the field information.
      }
   }
   \sstnotes{
      This application performs no checking on your field definition.
      This allows a degree of flexibility when interpreting your data.
      You may, for example, have a field STARID with format A10
      starting at position 15 and field STARNUM with format I4 starting
      at position 21.
   }
   \sstdiytopic{
      Example
   }{
      ASCIICAT TEST TESTDATA.DAT TESTINFO.DAT
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   ASCIITO
}{
   Create a catalogue from an ASCII file
}{
   \sstdescription{
      Create a new catalogue that contains the data from an ASCII file.
      ASCIITO allows you to put your own data into a catalogue. The
      data must be tabular. Before running this application you should
      examine your data and decide which columns/fields in the data
      are to included in the catalogue. For each of these fields note
      the start position and the FORTRAN format that should be used to
      read the data in this field. A wide range of sexagesimal formats are
      also available. A good idea for finding the correct
      start positions is to copy the first few entries of the data into
      a separate file and include a first line containing
      123456789012.....
      Have a copy of this handy when you run the application. The
      application first prompts for the name of the catalogue being
      created and the name of the file from which the data is to be
      read. During the next stage the application repeatedly prompts for
      information about fields. For each field you will be prompted for
      a field name, format, units, null value, comment and start
      position. When you have defined all the fields use the ADAM null
      value ! at the field name prompt to move onto the next stage.
   }
   \sstusage{
      ASCIITO INPUT DATAFILE
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue to be created.
      }
      \sstsubsection{
         DATAFILE = \_CHAR (Read)
      }{
         Name of the file containing the tabular ascii data.
      }
      \sstsubsection{
         FNAME = \_CHAR (Read)
      }{
         Name of the next field.
         [Repeatedly prompted for, terminated with a !]
      }
      \sstsubsection{
         FFORMAT = \_CHAR (Read)
      }{
         Format of the field.
         [Repeatedly prompted for.]
      }
      \sstsubsection{
         FUNIT = \_CHAR (Read)
      }{
         Units to be associated with this field.
         [Repeatedly prompted for.]
      }
      \sstsubsection{
         FNULL = \_CHAR (Read)
      }{
         Null value  to be associated with this field.
         [Repeatedly prompted for.]
      }
      \sstsubsection{
         FCOMMENT = \_CHAR (Read)
      }{
         Comment to be associated with this field.
         [Repeatedly prompted for.]
      }
      \sstsubsection{
         STARTPOS = \_INTEGER (Read)
      }{
         Start position, column number, of the data for this field.
         [Repeatedly prompted for.]
      }
   }
   \sstnotes{
      This application performs no checking on your field definition.
      This allows a degree of flexibility when interpreting your data.
      You may, for example, have a field STARID with format A10
      starting at position 15 and field STARNUM with format I4 starting
      at position 21.
   }
   \sstdiytopic{
      Example
   }{
      ASCIITOCAT TEST TESTDATA.DAT
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   CATJOIN
}{
   CATJOIN two catalogues
}{
   \sstdescription{
      Create a new catalogue by joining two catalogues. The effect of the join
      is as follows. Consider a large catalogue that contains all the fields
      from the INPUT1 catalogue and all the fields from the INPUT2 catalogue.
      Into this catalogue put an entry for each combination of entries in
      catalogues INPUT1 and INPUT2. The resulting catalogue will have N$*$M
      entries where N is the number of entries in the INPUT1 catalogue and
      M the number in the INPUT2 catalogue. Now search this catalogue for
      those entries that satisfy the given expression.

      Another way of looking at join is to say. Take every entry in turn
      from catalogue INPUT1. Match this entry against every entry in
      catalogue INPUT2 and if the EXPRESSion is satisfied combine both entries
      to write to a new catalogue.

      The expression should be a legal CATPAC Parser expression.

      Field names in the expression must be unique so append an {\tt '}\_{\tt '} followed
      by the first four characters of the catalogue name.
      \newline
      Eg. IRPS\_RA, YALE\_DEC
      CAT1\_VALUE2.GT.300.AND.CAT2\_VALUE2.LT.500
   }
   \sstusage{
      CATJOIN INPUT1 INPUT2 OUTPUT EXPRESS
   }
   \sstparameters{
      \sstsubsection{
         INPUT1 = \_CHAR (Read)
      }{
         Name of the first input catalogue.
      }
      \sstsubsection{
         INPUT2 = \_CHAR (Read)
      }{
         Name of the second input catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the catalogue to contain the merged entries.
      }
      \sstsubsection{
         EXPRESS = \_CHAR (Read)
      }{
         The join expression.
      }
   }
   \sstdiytopic{
      Example
   }{
      CATJOIN CAT1 CAT2 JOINCAT CAT1\_VALUE2.GT.300.AND.CAT2\_VALUE2.LT.500
   }\\{
      CATJOIN CAT1 CAT2 JOINCAT GREAT\_CIRCLE(CAT1\_RA,CAT!\_DEC,CAT2\_RA,CAT2\_DEC)
   }{
      .LT.CONVERT({\tt "}ARCSEC{\tt "},{\tt "}56{\tt "})
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   CATPAC
}{
   Top-level ADAM monolith routine for the CATPAC package
}{
   \sstdescription{
      This routine interprets the action name passed to it and calls
      the appropriate routine to perform the specified action. An error
      will be reported and STATUS will be set if the action name is not
      recognised.
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   CATRENAME
}{
   Rename a catalogue
}{
   \sstdescription{
      Rename a catalogue to a new name.
   }
   \sstusage{
      CATRENAME INPUT NEWNAME
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         NEWNAME = \_CHAR (Read)
      }{
         New name of the catalogue.
      }
   }
   \sstdiytopic{
      Example
   }{
      CATRENAME TEST NEWTEST
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   CATREPORT
}{
   Produce a catalogue report
}{
   \sstdescription{
      Produces a catalogue report. A simple report is produced with or
      without a header, selecting fields or reporting all fields. The report
      is made either to the screen or to a file ($<$catalogue name$>$.REP),
   }
   \sstusage{
      CATREPORT TEST [HEADER] [SCREEN] [ALLFLDS] [FLDNAMES]
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         HEADER = \_LOGICAL (Read)
      }{
         Add header information to the report T/F?
         [TRUE]
      }
      \sstsubsection{
         SCREEN = \_LOGICAL (Read)
      }{
         Output to the screen (or a file) T/F?
         [TRUE]
      }
      \sstsubsection{
         ALLFLDS = \_LOGICAL (Read)
      }{
         All fields to be reported T/F?
         [TRUE]
      }
      \sstsubsection{
         FLDNAMES = \_CHAR (Read)
      }{
         List of field names to be reported
      }
   }
   \sstexamples{
      \sstexamplesubsection{
         REPORT TEST HEADER=F SCREEN=F ALLFLDS=N FLDNAMES=[RA,DEC,VALUE1]
      }{
         Produce a report with no header, output to a file and selecting
         fields.
      }
   }
   \sstnotes{
      A report to the screen is limited to 80 characters and to file 132
      characters. Excess fields are ignored and a warning issued.
      Requested fields that do not appear in the catalogue are ignored.
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   CATSEARCH
}{
   Select entries from a catalogue
}{
   \sstdescription{
      Create a new catalogue that contains entries from a catalogue
      that pass some selection criteria. The criteria should be a legal
      CATPAC Parser expression.
   }
   \sstusage{
      CATSEARCH INPUT OUTPUT CRITERIA
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the catalogue to contain the selected entries.
      }
      \sstsubsection{
         CRITERIA = \_CHAR (Read)
      }{
         Logical expression of the selection criteria.
      }
   }
   \sstnotes{
      REJECT and CATSEARCH complement each other.
   }
   \sstdiytopic{
      Example
   }{
      CATSEARCH TEST SEARCHTEST VALUE2.GT.300.AND.VALUE2.LT.500
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   CATSORT
}{
   Create a new catalogue that is sorted on given fields
}{
   \sstdescription{
      Create a new catalogue that is sorted on given fields. The functionality
      of sort is twofold. The first function is to create indexes associated
      with the catalogue that allow efficient searching and joining. The second
      function is a by product of the sort and that is to order a catalogue
      for presentation.

      Consider sorting the data in a telephone directory. For presentation
      purposes sort the data by field SURNAME (Primary field) if several
      entries are found with the same surname order these by ordering on the
      field FIRSTINITIAL (Secondary field) and if entries are found with the
      same surname and first initial order these by ordering on the field
      SECONDINITIAL (Tertiary field). This catalogue would now be presented in
      a useful way. More importantly the system has created an
      index that allows it to perform an efficient search and join in certain
      cases. For example, a request for entries where the SURNAME is BROWN and
      the FIRSTINITIAL is J.

      The order of field names in the SORTFLDS parameter is significant.
      SORTFLDS(1) must contain the primary field, SORTFLDS(2) and
      SORTFLDS(3) contain the secondary and tertiary fields.
      Omitting either the secondary or tertiary position simply indicates
      that there should be no secondary or tertiary ordering.

      The direction of the sort for each field in given in the corresponding
      position of the SORTDIR parameter. TRUE for ascending.
   }
   \sstusage{
      CATSORT INPUT OUTPUT SORTFLDS SORTDIR
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the new sorted catalogue.
      }
      \sstsubsection{
         SORTFLDS = \_CHAR (Read)
      }{
         Names of the Primary, Secondary and Tertiary fields for an index.
      }
      \sstsubsection{
         SORTDIR = \_LOGICAL (Read)
      }{
         Direction of sort TRUE for descending FALSE ascending.
      }
   }
   \sstnotes{
      SORTFLDS and SORTDIR must correspond.
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   COPYCAT
}{
   Copy a catalogue
}{
   \sstdescription{
      Copy a catalogue.
   }
   \sstusage{
      COPYCAT INPUT OUTPUT
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         New catalogue.
      }
   }
   \sstdiytopic{
      Example
   }{
      COPYCAT TEST NEWTEST
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   DELCAT
}{
   Deletes a catalogue from the system
}{
   \sstdescription{
      Delete a catalogue from the system.
   }
   \sstusage{
      DELCAT INPUT
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
   }
   \sstnotes{
      Catalogues not created by the user may be protected and in these
      cases the Delete Catalogue application will have no effect.
   }
   \sstdiytopic{
      Example
   }{
      DELCAT TEST
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   DELPARAM
}{
   Delete a Parameter from a Catalogue
}{
   \sstdescription{
      Delete a parameter from a catalogue.
   }
   \sstusage{
      DELPARAM INPUT NAME
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         NAME = \_CHAR (Read)
      }{
         Name of the parameter to be deleted.
      }
   }
   \sstdiytopic{
      Example
   }{
      DELPARAM TEST CLASS
   }
}
\sstroutine{
   ENTRIES
}{
   Finds the number of entries in a catalogue
}{
   \sstdescription{
      Finds the number of entries in a catalogue.
   }
   \sstusage{
      ENTRIES INPUT
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
   }
   \sstdiytopic{
      Example
   }{
      ENTRIES TEST
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   FIELDINFO
}{
   Find specific information about a field in a catalogue
}{
   \sstdescription{
      Finds the FORMAT, UNITS, NULLVALUE or COMMENT associated with a
      field in a catalogue. For example find the comment associated
      with the field VALUE1 in the TEST catalogue.
   }
   \sstusage{
      FIELDINFO INPUT NAME INFREQ
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         NAME = \_CHAR (Read)
      }{
         Name of the field whose information is required.
      }
      \sstsubsection{
         INFREQ = \_CHAR (Read)
      }{
         Information required. (FORMAT, UNITS, NULLVALUE or COMMENT)
      }
   }
   \sstdiytopic{
      Example
   }{
      FIELDINFO TEST VALUE1 COMMENT
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   FIELDS
}{
   Find the number and names of fields in a catalogue
}{
   \sstdescription{
      Find the number of fields and the names of thoses fields
      in a catalogue.
   }
   \sstusage{
      FIELDS INPUT
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
   }
   \sstdiytopic{
      Example
   }{
      FIELDS TEST
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   FK425
}{
   Convert FK4 coordinates to FK5
}{
   \sstdescription{
      Create a catalogue containing new fields for the Right Ascension,
      Declination, Parallax, Radial velocity and proper motions after a
      conversion has been made from the FK4 system coordinates. The
      new fields are calculated using SLA\_FK425. See SUN 67

      Conversion from Besselian epoch 1950.0 to Julian epoch 2000.0 only
      is provided. Proper motion corrections can be made using PROPERM.

      Proper motions should be given in sec/yr and arcsecs/yr
      Parallax should be given in arcseconds.
      Radial velocity should be given in km/sec ($+$ve if receeding)

      If necessary use UPDATE to convert fields into the appropriate units.
   }
   \sstusage{
      FK425 INPUT OUTPUT RAFK4 DECFK4 RAPMFK4 DECPMFK4 PARLXFK4 RADVELFK4
      RAFK5
   \newline
      DECFK5 RAPMFK5 DECPMFK5 PARLXFK5 RADELFK5
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the output catalogue.
      }
      \sstsubsection{
         RAFK4 = \_CHAR (Read)
      }{
         Name of the RA field in FK4 system.
      }
      \sstsubsection{
         DECFK4 = \_CHAR (Read)
      }{
         Name of the DEC field in FK4 system.
      }
      \sstsubsection{
         RAPMFK4 = \_CHAR (Read)
      }{
         Name of the RA proper motion field in FK4 system.
      }
      \sstsubsection{
         DECPMFK4 = \_CHAR (Read)
      }{
         Name of the DEC proper motion field in FK4 system.
      }
      \sstsubsection{
         PARLXFK4 = \_CHAR (Read)
      }{
         Name of the parallax field in FK4 system.
      }
      \sstsubsection{
         RADVELFK4 = \_CHAR (Read)
      }{
         Name of the radial velocity field in FK4 system.
      }
      \sstsubsection{
         RAFK5 = \_CHAR (Read)
      }{
         Name of the RA field in FK5 system.
      }
      \sstsubsection{
         DECFK5 = \_CHAR (Read)
      }{
         Name of the DEC field in FK5 system.
      }
      \sstsubsection{
         RAPMFK5 = \_CHAR (Read)
      }{
         Name of the RA proper motion field in FK5 system.
      }
      \sstsubsection{
         DECPMFK5 = \_CHAR (Read)
      }{
         Name of the DEC proper motion field in FK5 system.
      }
      \sstsubsection{
         PARLXFK5 = \_CHAR (Read)
      }{
         Name of the parallax field in FK5 system.
      }
      \sstsubsection{
         RADVELFK5 = \_CHAR (Read)
      }{
         Name of the radial velocity field in FK5 system.
      }
   }
   \sstnotes{
      This application creates a new catalogue that contains extra fields for
      Right Ascension, Declination, Parallax, Radial velocity and proper
      motions after a conversion to FK5 system.
      The naming of these new fields can lead to confusion. Traditionally
      the field names RA and DEC are used for the Right Ascension and
      Declination fields in the catalogue. It is stongly suggested that the
      field names of Right Ascension and Declination in the new system (FK5)
      take the form RAJ, DECJ for RA Julian and DEC Julian. In the same way
      PARLX would become PARLXJ and RADVEL RADVELJ etc. You may go on to
      rename the field RA to RAB and DEC to DECB and RAJ to RA and DECJ to DEC
      using the UPFIELD application but you must also then update the Parallax,
      Radial velocity and proper motions and the catalogues Equinox parameter.

      Care should also be taken when renaming fields. Renaming RAJ to RA
      before renaming RA to RAB, in the above example, would result in two
      fields named RA in the same catalogue.
   }
   \sstdiytopic{
      Example
   }{
      FK425 TEST TESTFK5 RA DEC RA\_PM DEC\_PM PARALLAX RAD\_VEL RAJ DECJ
      PARALLAXJ RADVELJ
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   FK45Z
}{
   Convert FK4 coordinates to FK5
}{
   \sstdescription{
      Create a catalogue containing new fields for the Right Ascension
      and Declination. The new fields are calculated using SLA\_FK45Z.
      See SUN 67

      Conversion from Besselian epoch 1950.0 to Julian epoch 2000.0 only
      is provided.

      If necessary use UPDATE to convert fields into the appropriate units.
   }
   \sstusage{
      FK45Z INPUT OUTPUT RAFK4 DECFK4 BEPOCH RAFK5 DECFK5
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the output catalogue.
      }
      \sstsubsection{
         RAFK4 = \_CHAR (Read)
      }{
         Name of the RA field in FK4 system.
      }
      \sstsubsection{
         DECFK4 = \_CHAR (Read)
      }{
         Name of the DEC field in FK4 system.
      }
      \sstsubsection{
         BEBOCH = \_REAL (Read)
      }{
         Epoch
      }
      \sstsubsection{
         RAFK5 = \_CHAR (Read)
      }{
         Name of the RA field in FK5 system.
      }
      \sstsubsection{
         DECFK5 = \_CHAR (Read)
      }{
         Name of the DEC field in FK5 system.
      }
   }
   \sstnotes{
      This application creates a new catalogue that contains extra fields for
      Right Ascension, Declination
      The naming of these new fields can lead to confusion. Traditionally
      the field names RA and DEC are used for the Right Ascension and
      Declination fields in the catalogue. It is stongly suggested that the
      field names of Right Ascension and Declination in the new system (FK5)
      take the form RAJ, DECJ for RA Julian and DEC Julian. You may go on to
      rename the field RA to RAB and DEC to DECB and RAJ to RA and DECJ to DEC
      using the UPFIELD application but you must also then update the Parallax,
      Radial velocity and proper motions and the catalogues Equinox parameter.

      Care should also be taken when renaming fields. Renaming RAJ to RA
      before renaming RA to RAB, in the above example, would result in two
      fields named RA in the same catalogue.
   }
   \sstdiytopic{
      Example
   }{
      FK45Z TEST TESTFK5 RA DEC BEPOCH RAJ DECJ
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   FK524
}{
   Convert FK5 coordinates to FK4
}{
   \sstdescription{
      Create a catalogue containing new fields for the Right Ascension,
      Declination, Parallax, Radial velocity and proper motions after a
      conversion has been made from the FK5 system coordinates. The
      new fields are calculated using SLA\_FK524. See SUN 67

      Conversion from Julian epoch 2000.0 to Besselian epoch 1950.0 only
      is provided. Proper motion corrections can be made using PROPERM.

      Proper motions should be given in sec/yr and arcsecs/yr
      Parallax should be given in arcseconds.
      Radial velocity should be given in km/sec ($+$ve if receeding)

      If necessary use UPDATE to convert fields into the appropriate units.
   }
   \sstusage{
      FK524 INPUT OUTPUT RAFK5 DECFK5 RAPMFK5 DECPMFK5 PARLXFK5 RADVELFK5
      \newline
      RAFK4 DECFK4 RAPMFK4 DECPMFK4 PARLXFK4 RADVELFK4
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the output catalogue.
      }
      \sstsubsection{
         RAFK5 = \_CHAR (Read)
      }{
         Name of the RA field in FK5 system.
      }
      \sstsubsection{
         DECFK5 = \_CHAR (Read)
      }{
         Name of the DEC field in FK5 system.
      }
      \sstsubsection{
         RAPMFK5 = \_CHAR (Read)
      }{
         Name of the RA proper motion field in FK5 system.
      }
      \sstsubsection{
         DECPMFK5 = \_CHAR (Read)
      }{
         Name of the DEC proper motion field in FK5 system.
      }
      \sstsubsection{
         PARLXFK5 = \_CHAR (Read)
      }{
         Name of the parallax field in FK5 system.
      }
      \sstsubsection{
         RADVALFK5 = \_CHAR (Read)
      }{
         Name of the radial velocity field in FK5 system.
      }
      \sstsubsection{
         RAFK4 = \_CHAR (Read)
      }{
         Name of the RA field in FK4 system.
      }
      \sstsubsection{
         DECFK4 = \_CHAR (Read)
      }{
         Name of the DEC field in FK4 system.
      }
      \sstsubsection{
         RAPMFK4 = \_CHAR (Read)
      }{
         Name of the RA proper motion field in FK4 system.
      }
      \sstsubsection{
         DECPMFK4 = \_CHAR (Read)
      }{
         Name of the DEC proper motion field in FK4 system.
      }
      \sstsubsection{
         PARLXFK4 = \_CHAR (Read)
      }{
         Name of the parallax field in FK4 system.
      }
      \sstsubsection{
         RADVALFK4 = \_CHAR (Read)
      }{
         Name of the radial velocity field in FK4 system.
      }
   }
   \sstnotes{
      This application creates a new catalogue that contains extra fields for
      Right Ascension, Declination, Parallax, Radial velocity and proper
      motions after a conversion to FK4 system.
      The naming of these new fields can lead to confusion. Traditionally
      the field names RA and DEC are used for the Right Ascension and
      Declination fields in the catalogue. It is stongly suggested that the
      field names of Right Ascension and Declination in the new system (FK4)
      take the form RAB, DECB for RA Besselian and DEC Besselian. In the same
      way PARLX would become PARLXB and RADVEL RADVELB etc. You may go on to
      rename the field RA to RAJ and DEC to DECJ and RAB to RA and DECB to DEC
      using the UPFIELD application but you must also then update the Parallax,
      Radial velocity and proper motions and the catalogues Equinox parameter.

      Care should also be taken when renaming fields. Renaming RAB to RA
      before renaming RA to RAJ, in the above example, would result in two
      fields named RA in the same catalogue.
   }
   \sstdiytopic{
      Example
   }{
      FK524 TEST TESTFK4 RA DEC RAPM DECPM PARALLAX RAD\_VEL RAB DECB
      RAPMB
      \newline
      DECPMB PARALLAXB RADVELB
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   FK54Z
}{
   Convert FK5 coordinates to FK4
}{
   \sstdescription{
      Create a catalogue containing new fields for the Right Ascension
      and Declination. The new fields are calculated using SLA\_FK54Z.
      See SUN 67

      Conversion from Julian epoch 2000.0 to Besselian epoch 1950.0 only
      is provided.

      If necessary use UPDATE to convert fields into the appropriate units.
   }
   \sstusage{
      FK54Z INPUT OUTPUT RAFK5 DECFK5 BEPOCH RAFK4 DECFK4
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the output catalogue.
      }
      \sstsubsection{
         RAFK5 = \_CHAR (Read)
      }{
         Name of the RA field in FK5 system.
      }
      \sstsubsection{
         DECFK5 = \_CHAR (Read)
      }{
         Name of the DEC field in FK5 system.
      }
      \sstsubsection{
         BEBOCH = \_REAL (Read)
      }{
         Epoch
      }
      \sstsubsection{
         RAFK4 = \_CHAR (Read)
      }{
         Name of the RA field in FK4 system.
      }
      \sstsubsection{
         DECFK4 = \_CHAR (Read)
      }{
         Name of the DEC field in FK4 system.
      }
   }
   \sstnotes{
      This application creates a new catalogue that contains extra fields for
      Right Ascension, Declination
      The naming of these new fields can lead to confusion. Traditionally
      the field names RA and DEC are used for the Right Ascension and
      Declination fields in the catalogue. It is stongly suggested that the
      field names of Right Ascension and Declination in the new system (FK5)
      take the form RAB, DECB for RA Besslian and DEC Besslian. You may go on to
      rename the field RA to RAJ and DEC to DECJ and RAB to RA and DECB to DEC
      using the UPFIELD application but you must also then update the Parallax,
      Radial velocity and proper motions and the catalogues Equinox parameter.

      Care should also be taken when renaming fields. Renaming RAB to RA
      before renaming RA to RAJ, in the above example, would result in two
      fields named RA in the same catalogue.
   }
   \sstdiytopic{
      Example
   }{
      FK54Z TEST TESTFK4 RA DEC BEPOCH RAB DECB
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   GLOBALS
}{
   Displays the values of the CATPAC global parameters
}{
   \sstdescription{
      This procedure lists the meanings and values of the CATPAC global
      parameters.  If a global parameter does not have a value, the
      string {\tt "}$<$undefined$>${\tt "} is substituted where the value would have been
      written.
   }
   \sstusage{
      GLOBALS
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   PARAMINFO
}{
   Find specific information about a parameter in a catalogue
}{
   \sstdescription{
      Finds the FORMAT, VALUE or COMMENT associated with a field in a
      catalogue. For example find the VALUE associated with the
      parameter AUTHOR in the TEST catalogue.
   }
   \sstusage{
      PARAMINFO TEST AUTHOR VALUE
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         NAME = \_CHAR (Read)
      }{
         Name of parameter.
      }
      \sstsubsection{
         INFREQ = \_CHAR (Read)
      }{
         Information required.(FORMAT, VALUE or COMMENT)
      }
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   PARAMS
}{
   Find the number and names of parameters in a catalogue
}{
   \sstdescription{
      Find the number of parameters and the names of those parameters in
      a catalogue.
   }
   \sstusage{
      PARAMS INPUT
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
   }
   \sstdiytopic{
      Example
   }{
      PARAMS TEST
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   PROPERM
}{
   Apply proper motion correction to a catalogue
}{
   \sstdescription{
      Create a catalogue containing new fields for the new Right Ascension and
      Declination after the correction has been made for proper motion.
      Calculated using SLA\_PM. See SUN 67.

      Proper motions should be given in secs/yr and arcsec/yr.
      Parallax should be given in arcseconds.
      Radial velocity should be given in km/sec ($+$ve if receeding)

      If necessary use UPDATE to convert fields into the appropriate units.
   }
   \sstusage{
      PROPERM INPUT OUTPUT RAEP0 DECEP0 RAPM DECPM PARLLAX RADVEL RAEP1
      DECEP1
      \newline
      EP0 EP1
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the output catalogue.
      }
      \sstsubsection{
         RAEP0 = \_CHAR (Read)
      }{
         Name of the RA field at epoch 0.
      }
      \sstsubsection{
         DECEP0 = \_CHAR (Read)
      }{
         Name of the DEC field at epoch 0.
      }
      \sstsubsection{
         RAPM = \_CHAR (Read)
      }{
         Name of the RA proper motion field.
      }
      \sstsubsection{
         DECPM = \_CHAR (Read)
      }{
         Name of the DEC proper motion field.
      }
      \sstsubsection{
         PARALLAX = \_CHAR (Read)
      }{
         Name of the parallax field.
      }
      \sstsubsection{
         RADVEL = \_CHAR (Read)
      }{
         Name of the radial velocity field.
      }
      \sstsubsection{
         RAEP1 = \_CHAR (Read)
      }{
         Name of the RA field at epoch 1.
      }
      \sstsubsection{
         DECEP1 = \_CHAR (Read)
      }{
         Name of the DEC field at epoch 1.
      }
      \sstsubsection{
         EP0 = \_REAL (Read)
      }{
         Start Epoch.
      }
      \sstsubsection{
         EP1 = \_REAL (Read)
      }{
         End epoch.
      }
   }
   \sstnotes{
      This application creates a new catalogue that contains extra fields for
      Right Ascension and Declination after a proper motion correction.
      The naming of these new fields can lead to confusion. Traditionally
      the field names RA and DEC are used for the Right Ascension and
      Declination fields in the catalogue. It is stongly suggested that the
      field names of Right Ascension and Declination at a new epoch take the
      form RA1970, DEC1970. You may go on to rename the field RA to RA1950 and
      DEC to DEC1950 and RA1970 to RA and DEC1970 to DEC using the UPFIELD
      application but you must also then update the catalogues Epoch parameter
      to 1970.

      Care should also be taken when renaming fields. Renaming RA1970 to RA
      before renaming RA to RA1950, in the above example, would result in two
      fields named RA in the same catalogue.
   }
   \sstdiytopic{
      Example
   }{
      PROPERM TEST TEST1970 RA DEC RA\_PM DEC\_PM PARALLAX RAD\_VEL 1950 1970
      RA1970 DEC1970
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   SAMPLE
}{
   Select every Nth entry from a catalogue
}{
   \sstdescription{
      Sample a catalogue at frequency N creating a new catalogue to
      contain the selected entries. By using the REJECT option a second
      catalogue can be created that contains those entries that were not
      selected.
   }
   \sstusage{
      SAMPLE INPUT OUTPUT FREQUENCY [REJECT] [OUTREJECT]
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         OUTPUT = \_CHAR (Read)
      }{
         Name of the catalogue to contain the sampled entries.
      }
      \sstsubsection{
         FREQUENCY = \_INTEGER (Read)
      }{
         Sample frequency N
      }
      \sstsubsection{
         REJECT = \_LOGICAL (Read)
      }{
         Do you require a rejects catalogue (T/F)?
         [FALSE]
      }
      \sstsubsection{
         OUTREJECT = \_CHAR (Read)
      }{
         Name of the catalogue to contain the rejected entries.
      }
   }
   \sstdiytopic{
      Example
   }{
      SAMPLE TEST SAMPTEST 20
   }
   \sstbugs{
      None known.
   }
}

\sstroutine{
   UPFIELD
}{
   Update Field information in a Catalogue
}{
   \sstdescription{
      Update the information associated with a field in a catalogue. The
      field has a name, format, unit, null value and comment. Any of these
      can be updated by setting the relevant flag.
   }
   \sstusage{
      UPFIELD INUPT NAME [NAMEFLG] [NEWNAME] [FORMFLG] [FORMAT]
      [UNITFLG]
      \newline
      [UNITS] [NULLFLG] [NULLVAL] [COMFLG] [COMMENT]
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         NAME = \_CHAR (Read)
      }{
         Name of the field.
      }
      \sstsubsection{
         NAMEFLG = \_LOGICAL (Read)
      }{
         Name flag. Do you want to update the field name T/F?
         [FALSE]
      }
      \sstsubsection{
         NEWNAME = \_CHAR (Read)
      }{
         New name for the field.
      }
      \sstsubsection{
         FORMFLG = \_LOGICAL (Read)
      }{
         Format flag. Do you want to update the field format T/F?
         [FALSE]
      }
      \sstsubsection{
         FORMAT = \_CHAR (Read)
      }{
         New format for the format. A FORTRAN format detailing how the
         field value should be displayed.
      }
      \sstsubsection{
         UNITFLG = \_LOGICAL (Read)
      }{
         Unit flag. Do you want to update the field units T/F?
         [FALSE]
      }
      \sstsubsection{
         UNITS = \_CHAR (Read)
      }{
         New units to be associated with the field.
      }
      \sstsubsection{
         NULLFLG = \_LOGICAL (Read)
      }{
         Null value flag. Do you want to update the field null value T/F?
         [FALSE]
      }
      \sstsubsection{
         NULLVAL = \_CHAR (Read)
      }{
         New null value to be associated with the field.
      }
      \sstsubsection{
         COMFLG = \_LOGICAL (Read)
      }{
         Comment flag. Do you want to update the field comment T/F?
         [FALSE]
      }
      \sstsubsection{
         COMMENT = \_CHAR (Read)
      }{
         New comment to be associated with the field.
      }
   }
   \sstnotes{
      UPFIELD only updates the field information not the data. Use UPDATE
      to modify the data in a catalogue.
   }
   \sstdiytopic{
      Example
   }{
      UPFIELD TEST VALUE1 COMFLG=T COMMENT={\tt "}Possible error
      $+$ or $-$ 2{\tt "}
   }
   \sstbugs{
      None known.
   }
}
\sstroutine{
   UPPARAM
}{
   Update a Parameter in a Catalogue
}{
   \sstdescription{
      Update a parameter in a catalogue. The parameter has a name
      format, value and comment. Any of these can be updated
      by setting the relevant flag
   }
   \sstusage{
      UPPARAM INPUT NAME [NAMEFLG] [NEWNAME] [FORMFLG] [FORMAT]
      [VALFLG] [VALUE]
      \newline
      [COMFLG] [COMMENT]
   }
   \sstparameters{
      \sstsubsection{
         INPUT = \_CHAR (Read)
      }{
         Name of the catalogue.
      }
      \sstsubsection{
         NAME = \_CHAR (Read)
      }{
         Name of the parameter.
      }
      \sstsubsection{
         NAMEFLG = \_LOGICAL (Read)
      }{
         Name flag. Do you want to update the parameter name T/F?
         [FALSE]
      }
      \sstsubsection{
         NEWNAME = \_CHAR (Read)
      }{
         New name for the parameter.
      }
      \sstsubsection{
         FORMFLG = \_LOGICAL (Read)
      }{
         Format flag. Do you want to update the parameter format T/F?
         [FALSE]
      }
      \sstsubsection{
         FORMAT = \_CHAR (Read)
      }{
         New format for the parameter. A FORTRAN format detailing how the
         parameter value should be interpreted.
      }
      \sstsubsection{
         VALFLG = \_LOGICAL (Read)
      }{
         Value flag. Do you want to update the parameter value T/F?
         [FALSE]
      }
      \sstsubsection{
         VALUE = \_CHAR (Read)
      }{
         New value to be associated with the parameter.
      }
      \sstsubsection{
         COMFLG = \_LOGICAL (Read)
      }{
         Comment flag. Do you want to update the parameter comment T/F?
         [FALSE]
      }
      \sstsubsection{
         COMMENT = \_CHAR (Read)
      }{
         New comment to be associated with the parameter.
      }
   }
   \sstnotes{
      The value of a parameter is always a character string. The format
      determines how the value should be interpreted. An error will be
      reported if the value and format become inconsistent.
   }
   \sstdiytopic{
      Example
   }{
      UPPARAM TEST CLASS FORMFLG=T FORMAT=I2
   }
   \sstbugs{
      None known.
   }
}
\end{small}
\newpage
\section{The CATPAC Parser}
\label{ap:example}

\begin{verbatim}

      STARNAME
      A6
      none
      Name of the star.
      1
      RA
      HH MM SS
      time
      RA epoch 1950
      8

\end{verbatim}

      This extract from an information file. identifies a field called STARNAME
      with format A8, units are 'none', its comment is 'Name of the star'
      and the start position of the data is 1.

\newpage
\section{The CATPAC Parser}
\label{ap:parser}

The CATPAC parser:

\begin{small}
\begin{verbatim}
     ? has -3 as its precedence
     (     -2
     ,     -1
     )      0
     .OR.   1
     .XOR.  1
     .AND.  2
     .NOT.  3
     <      4
     {      4
     =      4
     }      4
     >      4
     #      4
     .LT.   4
     .LE.   4
     .EQ.   4
     .GE.   4
     .GT.   4
     .NE.   4
     //     6
     +      7
     -      7
     *      8
     /      8
     **     9
     +      10 when acting as a unary operator
     -      10 when acting as a unary operator
\end{verbatim}
\end{small}

In addition to these operators the function names given below are known to the
system.  Functions have the same precedence as '(' that is -2.

\begin{small}
\begin{verbatim}
     SQRT
     LOG10
     LOG
     EXP
     SIN
     COS
     TAN
     ASIN
     ACOS
     ATAN
     SINH
     COSH
     TANH
     ABS
     STRING
     DIFF
     GREAT_CIRCLE
     IRAS_TEMP23
     IRAS_TEMP12
     IRAS_TEMP34
     INT
     NINT
     MIN
     MAX
     UCASE
     LCASE
     CONVERT
\end{verbatim}
\end{small}

Abbreviations used:

\begin{small}
\begin{verbatim}
     <arop> arithmetic operators

     <unop> unary operators

     <chrop> character operator

     <reop> relational operators

     <loop> logical operators

     <sloop> single logical operator

     <loexp> logical expression

     <arexp> arithmetic expression

     <chrexp> character expression

     <loconst> logical constant

     <numconst> numeric constant

     <chrconst> character constant

     <logfname> field name of a logic field

     <numfname> field name of a numeric field

     <chrfname> field name of a character field

     <logfunction> logical function

     <numfunction> numeric function

     <chrfunction> character function

     <fldname> field name

     <numargs> numeric arguments

     <numarg> numeric argument

     <chrarg> character argument

     <logarg> logical argument

     <unitarg> argument of the CONVERT function specifying how the character
               argument is to be interpreted.

     <realconst> real constant

     <intconst> integer constant

     <expon> exponent part of an integer or real

     <dpconstant> decimal point constant
\end{verbatim}
\end{small}

The definition:

\begin{small}
\begin{verbatim}
     <loexp> :=   <arexp><reop><arexp>
                | <loexp><loop><loexp>
                | <chrexp><reop><chrexp>
                | <sloop><loexp>
                | <logconst>
                | <logfname>
                | <logfunction>

     <arexp> :=   <arexp><arop><arexp>
                | <numconst>
                | <numfunction>
                | <numfname>

     <chrexp> :=  <chrexp><chrop><chrexp>
                | <chrconst>
                | <chrfname>


     <loop> :=   .OR.
               | .XOR.
               | .AND.

     <relop> :=   .LT.
                | .LE.
                | .EQ.
                | .GE.
                | .GE.
                | .NE.
                | <
                | {
                | =
                | }
                | >
                | #

     Note: In character relational expressions "less then" means precedes
           in the ASCII collating sequence and "greater than" means follows
           in the ASCII collating sequence.

     <unop> :=    +
                | -

     <arop> :=   +
               | -
               | *
               | /
               | **

     <chrop> :=  //

     <sloop> := .NOT.

     <chrfname> :=  <fldname>

     Note: The field must be of type character

     <logfname> :=  <fldname>

     Note: The field must be of type logical

     <numfname> :=  <fldname>

     Note: The field must be of type real, integer or double

     <numfunction> :=  SQRT(<numarg>)
                     | LOG10(<numarg>)
                     | LOG(<numarg>)
                     | EXP(<numarg>)
                     | SIN(<numarg>)
                     | COS(<numarg>)
                     | TAN(<numarg>)
                     | ASIN(<numarg>)
                     | ACOS(<numarg>)
                     | ATAN(<numarg>)
                     | SINH(<numarg>)
                     | COSH(<numarg>)
                     | TANH(<numarg>)
                     | ABS(<numarg>)
                     | DIFF(<numarg>,<numarg>)
                     | GREAT_CIRCLE(<numarg>,<numarg>,<numarg>,<numarg>)
                     | IRAS_TEMP23(<numarg>,<numarg>)
                     | IRAS_TEMP12(<numarg>,<numarg>)
                     | IRAS_TEMP34(<numarg>,<numarg>)
                     | INT(<numarg>)
                     | NINT(<numarg>)
                     | MIN(<numargs>)
                     | MAX(<numargs>)
                     | CONVERT(<unitarg>,<chrconst>)

     <chrfunction> :=  STRING(<chrarg>)
                     | UCASE(<chrarg>)
                     | LCASE(<chrarg>)

     <numargs> :=  <numargs>,<numarg>
                 | <numarg>

     <numarg> :=  <numfname>
                | <numconst>

     <chrarg> :=  <chrfname>
                | <chrconst>

     <unitarg> :=  "DEGREE"
                 | "ARCMIN"
                 | "ARCSEC"
                 | "SDD MM SS.S"
                 | "SDD:MM:SS.S"
                 | "SDD MM SS"
                 | "SDD:MM:SS"
                 | "SDD MM"
                 | "SDD:MM"
                 | "MINUTE"
                 | "SECOND"
                 | "HH MM SS.S"
                 | "HH:MM:SS.S"
                 | "HH MM SS"
                 | "HH:MM:SS"
                 | "HH MM"
                 | "HH:MM"

     <chrconst> :=  "<chrstring>"

     <chrstring> :=  <chrstring><chrstring>
                    | <space>
                    | <alphanumeric>

     <logconst> :=  .TRUE.
                  | .FALSE.

     <numconst> :=  <realconst>
                  | <intconst>

     <realconst> :=  <intconst>
                   | <dpconst>
                   | <dpconst>E<expon>
                   | <dpconst>D<expon>

     <expon> :=  <unop><digits>
               | <digits>

     <dpconst> :=  <digits>.<digits>
                 | <digits>.
                 | .<digits>

     <intconst> :=  <digits>
                  | <digits>E<digits>

     <fldname> :=  <character><alphanumerics>

     <alphanumerics> :=  <alphanumeric><alphanumerics>
                       | <alphanumeric>

     <alphanumeric> :=  <character>
                      | <digit>

     <digits> :=  <digit><digits>
                | <digit>

     <character> :=    a | b | c | d | e | f | g | h | i | j | k | l
                     | m | n | o | p | q | r | s | t | u | v | w | x
                     | y | z | A | B | C | D | E | F | G | H | I | J
                     | K | L | M | N | O | P | Q | R | S | T | U | V
                     | W | X | Y | Z |

     <digit> :=   0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9
\end{verbatim}
\end{small}

Functions that return more than one result, for example coordinate system
conversions, do not belong in the parser. A suite of applications exist
to perform these types of functions.

\section{Available Catalogues}
\label{ap:cats}

Personal catalogues are stored in your current directory and you are strongly
advised to create a directory specifically for catalogue handling work. CATPAC
also allows for system catalogues, these are usually large, unchanging
catalogues. If CATPAC cannot find the requested catalogue in the current
directory, it's not the name of a personal catalogue, it checks the system
catalogues. The system catalogues and any accompanying documentation available
at any one site may vary but will be located using a environment variable
CATPAC\_CATS.

\end{document}
