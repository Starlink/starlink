# E.S.O. - VLT project/ESO Archive
# $Id: Makefile.in,v 1.1.1.1 2002/04/04 20:11:46 brighton Exp $
#
# Makefile.in
#
# This file is processed by configure to produce the actual Makefile.
#
# who             when       what
# --------------  ---------  ---------------------------------------------
# Allan Brighton  04 Oct 95  Created
# ------------------------------------------------------------------------

CC           	= @CC@
CXX           	= @CXX@
CFLAGS  	= @CXXDEBUGFLAGS@
TOPDIR      	= @DESTDIR@
LIBDIR      	= @LIBDIR@
DEPEND_TARGET	= @DEPEND_TARGET@

SRCS 		=  astroCatalog.C astroImage.C

OBJS 		=  astroCatalog.o astroImage.o

libname  	= ../lib/libcastrocat.a

INCLUDES	= -I../include \
		  -I../../astrocat/include \
		  @ASTROTCL_BUILD_INCLUDES@ \
	          @TCLUTIL_BUILD_INCLUDES@ \
		  -I$(TOPDIR)/include/astrotcl \
		  -I$(TOPDIR)/include/tclutil

CC_SWITCHES	= @SHLIB_CFLAGS@ $(DEFINES) $(INCLUDES) $(CFLAGS)
DEPEND_FLAGS    = $(CC_SWITCHES) @CXX_INCLUDE@ @CXX_DEPEND_FLAGS@
INSTALL  	= @INSTALL@
INSTALL_DATA  	= @INSTALL_DATA@
RANLIB   	= @RANLIB@
SHELL    	= /bin/sh
AR       	= ar rc
RM       	= rm -f

# ------------------------------------------------------------------------
all: dirs $(libname)

All:
	cd ../..; $(MAKE)

$(libname): $(OBJS)
	$(RM) $@
	$(AR) $@ $(OBJS)
	$(RANLIB) $@

install: 

dirs:
	test -d ../lib || mkdir ../lib

clean:
	$(RM) $(OBJS) $(libname) *\~ "#"*

distclean: clean depclean
	rm -f Makefile	

.SUFFIXES: .C
.c.o:
	$(CC) -c $(CC_SWITCHES) $<

.C.o:
	$(CXX) -c $(CC_SWITCHES) $<

man:

include @SRC_ROOT@/makefile.mk
include ../../depend.mk
